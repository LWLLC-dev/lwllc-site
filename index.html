<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LWLLC - Roadside Debris Removal Specialists</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Set Inter font -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc; /* Light gray background */
        }
    </style>
</head>
<body class="antialiased text-gray-800">

    <div id="app">
        <!-- Header -->
        <header class="bg-white shadow-md sticky top-0 z-50">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
                <div class="text-2xl font-extrabold text-green-700">
                    LWLLC <span class="text-gray-500 font-medium text-sm block -mt-1">Environmental Services</span>
                </div>
                <nav class="hidden md:flex space-x-8">
                    <a href="#services" class="text-gray-600 hover:text-green-700 transition duration-300 font-medium">Services</a>
                    <a href="#about" class="text-gray-600 hover:text-green-700 transition duration-300 font-medium">Our Mission</a>
                    <a href="#contact" class="text-white bg-green-600 hover:bg-green-700 px-4 py-2 rounded-lg transition duration-300 shadow-md">Nominate a Road</a>
                </nav>
                <button id="menu-toggle" class="md:hidden text-gray-600 focus:outline-none">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
                </button>
            </div>
            <!-- Mobile Menu (Hidden by default) -->
            <div id="mobile-menu" class="hidden md:hidden bg-white border-t border-gray-100">
                <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                    <a href="#services" class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:bg-green-50">Services</a>
                    <a href="#about" class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:bg-green-50">Our Mission</a>
                    <a href="#contact" class="block w-full text-center text-white bg-green-600 hover:bg-green-700 px-3 py-2 rounded-md transition duration-300">Nominate a Road</a>
                </div>
            </div>
        </header>

        <!-- Hero Section -->
        <section class="bg-green-50 py-20 md:py-32 relative overflow-hidden">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
                <div class="text-center">
                    <h1 class="text-5xl md:text-6xl font-extrabold leading-tight text-gray-900 mb-4">
                        Cleaning the <span class="text-green-600">Roads</span>, One Mile at a Time.
                    </h1>
                    <p class="text-xl text-gray-600 mb-8 max-w-3xl mx-auto">
                        LWLLC specializes in efficient, responsible, and thorough debris removal from public highways and private roadways, enhancing safety and preserving natural beauty. All cleanups are provided free of charge as a community service.
                    </p>
                    <a href="#contact" class="inline-block bg-green-700 text-white text-lg font-semibold px-10 py-4 rounded-xl shadow-lg hover:bg-green-800 transition duration-300 transform hover:scale-105">
                        Nominate a Road for Cleanup
                    </a>
                </div>
            </div>
            <!-- Decorative Icon (Example: a simplified trash icon) -->
            <div class="absolute top-10 right-10 opacity-10 hidden lg:block">
                 <!-- Icon for cleanliness -->
                 <svg class="w-48 h-48 text-green-700" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
            </div>
        </section>

        <!-- Services Section -->
        <section id="services" class="py-16 md:py-24">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-3xl md:text-4xl font-bold text-center text-gray-900 mb-4">Our Core Services</h2>
                <p class="text-xl text-center text-gray-600 mb-12">Focused solutions for a cleaner infrastructure.</p>
                <div class="grid md:grid-cols-3 gap-8">
                    <!-- Service Card 1 -->
                    <div class="bg-white p-8 rounded-xl shadow-lg border-t-4 border-green-600 hover:shadow-xl transition duration-300">
                        <div class="flex items-center justify-center w-12 h-12 bg-green-100 rounded-full mb-4">
                            <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.002 12.002 0 003 12c0 2.458.74 4.73 2.01 6.759a11.957 11.957 0 008.01 2.464l.654-.04c1.192-.08 2.378-.293 3.513-.64a12.023 12.023 0 003.582-2.31"></path></svg>
                        </div>
                        <h3 class="text-xl font-semibold mb-3">Scheduled Road Sweeping</h3>
                        <p class="text-gray-500">Regular, preventative cleanup programs for high-traffic areas and major highways to maintain continuous cleanliness.</p>
                    </div>
                    <!-- Service Card 2 -->
                    <div class="bg-white p-8 rounded-xl shadow-lg border-t-4 border-green-600 hover:shadow-xl transition duration-300">
                        <div class="flex items-center justify-center w-12 h-12 bg-green-100 rounded-full mb-4">
                            <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                        </div>
                        <h3 class="text-xl font-semibold mb-3">Emergency Debris Removal</h3>
                        <p class="text-gray-500">Rapid response service for post-accident debris, spills, and unexpected trash hazards that require immediate clearing.</p>
                    </div>
                    <!-- Service Card 3 -->
                    <div class="bg-white p-8 rounded-xl shadow-lg border-t-4 border-green-600 hover:shadow-xl transition duration-300">
                        <div class="flex items-center justify-center w-12 h-12 bg-green-100 rounded-full mb-4">
                            <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.828 0l-4.243-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
                        </div>
                        <h3 class="text-xl font-semibold mb-3">Highway & Municipal Cleanup</h3>
                        <p class="text-gray-500">Contracted services for state and local governments needing large-scale, thorough cleanup of major road systems.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- About/Mission Section -->
        <section id="about" class="bg-gray-100 py-16 md:py-24">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="md:flex md:items-center md:space-x-12">
                    <div class="md:w-1/2 mb-10 md:mb-0">
                        <img src="https://placehold.co/600x400/10B981/ffffff?text=LWLLC+Clean+Roads" alt="Clean road with LWLLC service truck" class="rounded-xl shadow-2xl w-full">
                    </div>
                    <div class="md:w-1/2">
                        <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-4">Committed to a Cleaner Tomorrow</h2>
                        <p class="text-lg text-gray-600 mb-6">
                            At LWLLC, our goal goes beyond simply removing litter. We are dedicated to creating safer driving conditions, protecting local ecosystems from pollution, and enhancing the visual appeal of our infrastructure. Our team uses specialized equipment and proven methodologies to handle debris of all sizes.
                        </p>
                        <ul class="space-y-3 text-gray-700">
                            <li class="flex items-center"><svg class="w-5 h-5 text-green-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg> Safety-First Operations</li>
                            <li class="flex items-center"><svg class="w-5 h-5 text-green-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg> Environmentally Responsible Disposal</li>
                            <li class="flex items-center"><svg class="w-5 h-5 text-green-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg> Dedicated and Professional Crew</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Contact/Quote Section -->
        <section id="contact" class="py-16 md:py-24">
            <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-3xl md:text-4xl font-bold text-center text-gray-900 mb-4">Nominate a Road for Free Cleanup</h2>
                <p class="text-xl text-center text-gray-600 mb-12">Tell us which road needs our help the most, and we'll add it to our community cleanup queue.</p>

                <!-- Quote Form -->
                <div class="bg-white p-6 sm:p-10 rounded-xl shadow-2xl border border-gray-200">
                    <form id="quote-form">
                        <div class="space-y-6">
                            <div>
                                <label for="name" class="block text-sm font-medium text-gray-700 mb-1">Your Name / Company Name</label>
                                <input type="text" id="name" name="name" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-green-500 focus:border-green-500 transition duration-150">
                            </div>
                            <div>
                                <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email Address</label>
                                <input type="email" id="email" name="email" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-green-500 focus:border-green-500 transition duration-150">
                            </div>
                            <div>
                                <label for="phone" class="block text-sm font-medium text-gray-700 mb-1">Phone Number</label>
                                <input type="tel" id="phone" name="phone" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-green-500 focus:border-green-500 transition duration-150">
                            </div>
                            <div>
                                <label for="details" class="block text-sm font-medium text-gray-700 mb-1">Project Details (Type of road, length, debris description)</label>
                                <textarea id="details" name="details" rows="5" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-green-500 focus:border-green-500 transition duration-150"></textarea>
                            </div>
                        </div>

                        <button type="submit" id="submit-button" class="mt-8 w-full bg-green-600 text-white font-semibold py-3 rounded-lg hover:bg-green-700 transition duration-300 shadow-lg disabled:opacity-50" disabled>
                            Submit Road Nomination
                        </button>

                        <!-- Status Message Area -->
                        <div id="status-message" class="mt-4 text-center font-medium"></div>

                    </form>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="bg-gray-800 text-white py-10">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
                <div class="text-2xl font-bold mb-2">LWLLC</div>
                <p class="text-sm text-gray-400 mb-4">Environmental Roadside Services</p>
                <div class="flex justify-center space-x-6 text-sm">
                    <a href="#services" class="hover:text-green-400 transition duration-300">Services</a>
                    <a href="#about" class="hover:text-green-400 transition duration-300">Mission</a>
                    <a href="#contact" class="hover:text-green-400 transition duration-300">Contact</a>
                </div>
                <p id="user-info" class="text-xs text-gray-500 mt-6">Auth Status: Initializing...</p>
                <p class="text-xs text-gray-500 mt-2">&copy; 2025 LWLLC. All rights reserved.</p>
            </div>
        </footer>

    </div>

    <!-- Firebase SDK Scripts -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, doc, addDoc, collection, setLogLevel } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // --- GLOBAL VARIABLES (Provided by Canvas Environment) ---
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
        const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : null;
        const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;
        
        let app, db, auth;
        let userId = null;
        let isAuthReady = false;

        // --- DOM Elements ---
        const form = document.getElementById('quote-form');
        const submitButton = document.getElementById('submit-button');
        const statusMessage = document.getElementById('status-message');
        const userInfo = document.getElementById('user-info');
        const menuToggle = document.getElementById('menu-toggle');
        const mobileMenu = document.getElementById('mobile-menu');

        // Toggle Mobile Menu
        menuToggle.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });

        // Close mobile menu when a link is clicked
        mobileMenu.querySelectorAll('a').forEach(link => {
            link.addEventListener('click', () => {
                mobileMenu.classList.add('hidden');
            });
        });

        // --- FIREBASE INITIALIZATION AND AUTHENTICATION ---
        const initFirebase = async () => {
            if (!firebaseConfig) {
                console.error("Firebase config is missing.");
                userInfo.textContent = "Auth Status: ERROR - Config Missing";
                return;
            }

            try {
                // Set Firestore log level to debug for better visibility
                setLogLevel('debug');
                
                app = initializeApp(firebaseConfig);
                db = getFirestore(app);
                auth = getAuth(app);

                onAuthStateChanged(auth, async (user) => {
                    if (user) {
                        userId = user.uid;
                        userInfo.textContent = `User ID: ${userId} (Authenticated)`;
                        submitButton.disabled = false; // Enable button once authenticated
                    } else {
                        // Sign in using the custom token if available, otherwise sign in anonymously
                        if (initialAuthToken) {
                            await signInWithCustomToken(auth, initialAuthToken);
                        } else {
                            await signInAnonymously(auth);
                        }
                        // Note: The onAuthStateChanged will fire again after successful sign-in
                    }
                    isAuthReady = true;
                });
            } catch (error) {
                console.error("Firebase initialization or authentication failed:", error);
                userInfo.textContent = `Auth Status: ERROR - ${error.message}`;
            }
        };

        // --- SERVICE REQUEST SUBMISSION LOGIC ---
        const submitRequest = async (event) => {
            event.preventDefault();

            if (!isAuthReady || !db || !userId) {
                statusMessage.className = 'mt-4 text-center font-medium text-red-600';
                statusMessage.textContent = 'System is initializing. Please wait a moment and try again.';
                return;
            }

            submitButton.disabled = true;
            submitButton.textContent = 'Submitting...';
            statusMessage.className = 'mt-4 text-center font-medium text-gray-500';
            statusMessage.textContent = 'Processing your road nomination...';

            const formData = new FormData(form);
            const data = {
                name: formData.get('name'),
                email: formData.get('email'),
                phone: formData.get('phone'),
                details: formData.get('details'),
                timestamp: new Date(),
                // Store who submitted the request (Public Collection)
                submittedBy: userId 
            };

            // Firestore Path for Public Data: /artifacts/{appId}/public/data/service_requests
            const collectionPath = `artifacts/${appId}/public/data/service_requests`;

            try {
                // Add the document to the 'service_requests' collection
                await addDoc(collection(db, collectionPath), data);

                statusMessage.className = 'mt-4 text-center font-medium text-green-600';
                statusMessage.textContent = '✅ Success! Your road nomination has been received and added to our cleanup queue.';
                form.reset(); // Clear the form on success

            } catch (error) {
                console.error("Error writing document to Firestore:", error);
                statusMessage.className = 'mt-4 text-center font-medium text-red-600';
                statusMessage.textContent = `❌ Error submitting nomination: ${error.message}`;
            } finally {
                submitButton.disabled = false;
                submitButton.textContent = 'Submit Road Nomination';
            }
        };

        // --- EVENT LISTENERS ---
        form.addEventListener('submit', submitRequest);

        // Initial setup call
        initFirebase();
    </script>
</body>
</html>
